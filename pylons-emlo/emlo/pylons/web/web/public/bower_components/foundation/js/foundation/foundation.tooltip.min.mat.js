(function(e,k,l,m){Foundation.libs.tooltip={name:"tooltip",version:"5.4.7",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" id="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"); this.bindings(b,c)},should_show:function(a,b){var c=e.extend({},this.settings,this.data_options(a));return"all"===c.show_on||this.small()&&"small"===c.show_on||this.medium()&&"medium"===c.show_on||this.large()&&"large"===c.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(a){var b=this,c=b.S;b.create(this.S(a));e(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip", "["+this.attr_name()+"]",function(a){var f=c(this),g=e.extend({},b.settings,b.data_options(f));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(a.type)&&c(a.target).is("a")||/mouse/i.test(a.type)&&b.ie_touch(a))return!1;f.hasClass("open")?(Modernizr.touch&&/touchstart|MSPointerDown/i.test(a.type)&&a.preventDefault(),b.hide(f)):g.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(a.type)||(!g.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(a.type)&&(a.preventDefault(), c(g.tooltip_class+".open").hide()),/enter|over/i.test(a.type)?this.timer=setTimeout(function(){b.showTip(f)}.bind(this),b.settings.hover_delay):"mouseout"===a.type||"mouseleave"===a.type?(clearTimeout(this.timer),b.hide(f)):b.showTip(f))}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(a){if(/mouse/i.test(a.type)&&b.ie_touch(a))return!1;if("touch"!=e(this).data("tooltip-open-event-type")||"mouseleave"!=a.type)"mouse"==e(this).data("tooltip-open-event-type")&& /MSPointerDown|touchstart/i.test(a.type)?b.convert_to_touch(e(this)):b.hide(e(this))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){b.hide(c(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);if(this.should_show(a,b))return this.show(a)},getTip:function(a){var b=this.selector(a);a=e.extend({},this.settings,this.data_options(a));var c=null;b&&(c=this.S('span[data-selector="'+b+'"]'+a.tooltip_class));return"object"===typeof c?c:!1},selector:function(a){var b= a.attr("id"),c=a.attr(this.attr_name())||a.attr("data-selector");(b&&1>b.length||!b)&&"string"!=typeof c&&(c=this.random_str(6),a.attr("data-selector",c).attr("aria-describedby",c));return b&&0<b.length?b:c},create:function(a){var b=this,c=e.extend({},this.settings,this.data_options(a)),d=this.settings.tip_template;"string"===typeof c.tip_template&&k.hasOwnProperty(c.tip_template)&&(d=k[c.tip_template]);var d=e(d(this.selector(a),e("<div></div>").html(a.attr("title")).html())),f=this.inheritable_classes(a); d.addClass(f).appendTo(c.append_to);Modernizr.touch&&(d.append('<span class="tap-to-close">'+c.touch_close_text+"</span>"),d.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(c){b.hide(a)}));a.removeAttr("title").attr("title","")},reposition:function(a,b,c){var d,f,g;b.css("visibility","hidden").show();d=a.data("width");f=b.children(".nub");g=f.outerHeight();f.outerHeight();this.small()?b.css({width:"100%"}):b.css({width:d?d:"auto"});d=function(a,b,c,d,e,f){return a.css({top:b?b: "auto",bottom:d?d:"auto",left:e?e:"auto",right:c?c:"auto"}).end()};d(b,a.offset().top+a.outerHeight()+10,"auto","auto",a.offset().left);if(this.small())d(b,a.offset().top+a.outerHeight()+10,"auto","auto",12.5,e(this.scope).width()),b.addClass("tip-override"),d(f,-g,"auto","auto",a.offset().left);else{var h=a.offset().left;Foundation.rtl&&(f.addClass("rtl"),h=a.offset().left+a.outerWidth()-b.outerWidth());d(b,a.offset().top+a.outerHeight()+10,"auto","auto",h);b.removeClass("tip-override");c&&-1<c.indexOf("tip-top")? (Foundation.rtl&&f.addClass("rtl"),d(b,a.offset().top-b.outerHeight(),"auto","auto",h).removeClass("tip-override")):c&&-1<c.indexOf("tip-left")?(d(b,a.offset().top+a.outerHeight()/2-b.outerHeight()/2,"auto","auto",a.offset().left-b.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):c&&-1<c.indexOf("tip-right")&&(d(b,a.offset().top+a.outerHeight()/2-b.outerHeight()/2,"auto","auto",a.offset().left+a.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}b.css("visibility", "visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(a){var b=e.extend({},this.settings,this.data_options(a)),c="tip-top tip-left tip-bottom tip-right radius round".split(" ").concat(b.additional_inheritable_classes);a=(a=a.attr("class"))?e.map(a.split(" "),function(a,b){if(-1!==e.inArray(a,c))return a}).join(" "):"";return e.trim(a)},convert_to_touch:function(a){var b=this, c=b.getTip(a),d=e.extend({},b.settings,b.data_options(a));0===c.find(".tap-to-close").length&&(c.append('<span class="tap-to-close">'+d.touch_close_text+"</span>"),c.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(c){b.hide(a)}));a.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a);this.reposition(a,b,a.attr("class"));a.addClass("open"); b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove();b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose");a.removeClass("open")})},off:function(){var a=this;this.S(this.scope).off(".fndtn.tooltip");this.S(this.settings.tooltip_class).each(function(b){e("["+a.attr_name()+"]").eq(b).attr("title",e(this).text())}).remove()},reflow:function(){}}})(jQuery,window,window.document);
